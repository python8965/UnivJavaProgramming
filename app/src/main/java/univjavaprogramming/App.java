/*
 * This source file was generated by the Gradle 'init' task
 */
package univjavaprogramming;

import javax.imageio.ImageIO;
import javax.swing.*;

import java.awt.*;
import java.awt.event.*;
import java.util.List;

import java.net.*;
import java.sql.*;
import java.util.*;
import java.io.*;

public class App {

    public static void main(String[] args) {
        Challenge1(); // ì›í•˜ëŠ” ì±Œë¦°ì§€ ë²ˆí˜¸ë¡œ ë°”ê¾¸ê³  ì‹¤í–‰.
    }

    public static void Challenge1() { // 2ì£¼ì°¨
        int hour, minute;

        int currentMinute;
        int alarmMinute = 9 * 60;

        try (Scanner scanner = new Scanner(System.in)) {
            for (;;) {
                System.out.printf("í˜„ì¬ ì‹œê°„ì„ ì…ë ¥í•˜ì„¸ìš” (HH í˜•ì‹) : ");
                hour = scanner.nextInt();

                if (hour < 0 || hour > 24) {
                    System.out.println("ì‹œê°„ì€ 0 ~ 24 ì‚¬ì´ë¡œ ì…ë ¥í•´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.");
                    continue;
                }

                System.out.printf("í˜„ì¬ ë¶„ì„ ì…ë ¥í•˜ì„¸ìš” (mm í˜•ì‹) : ");
                minute = scanner.nextInt();

                if (minute < 0 || minute > 60) {
                    System.out.println("ë¶„ì€ 0 ~ 60 ì‚¬ì´ë¡œ ì…ë ¥í•´ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.");
                    continue;
                }

                break;
            }

            currentMinute = hour * 60 + minute;

            int resultMinuteDiff = currentMinute - alarmMinute;

            boolean sign = resultMinuteDiff > 0;

            int resultMinuteSum = Math.abs(resultMinuteDiff);

            int resultHour = resultMinuteSum / 60;
            int resultMinute = resultMinuteSum % 60;

            if (resultMinuteSum == 0) {
                System.out.println("ì•ŒëŒì´ ìš¸ë¦¬ëŠ” ì¤‘ì…ë‹ˆë‹¤!");
                return;
            }

            if (sign) {
                System.out.printf("ì•ŒëŒì´ ìš¸ë¦° í›„ %dì‹œê°„ %dë¶„ ì§€ë‚¬ìŠµë‹ˆë‹¤.", resultHour, resultMinute);
            } else {
                System.out.printf("ì•ŒëŒì´ ìš¸ë¦¬ê¸°ê¹Œì§€ %dì‹œê°„ %dë¶„ ë‚¨ì•˜ìŠµë‹ˆë‹¤.", resultHour, resultMinute);
            }
        }
    }

    class Helper {
        public static int randomRange(int start, int end) {
            return (int) (Math.random() * (end - start) + 1) + start;
        }
    }

    public static void Challenge2() { // 3ì£¼ì°¨

        try (Scanner scanner = new Scanner(System.in)) {
            var inputLottoNumber = new int[6];
            var lottoNumber = new int[6];

            for (int i = 0; i < inputLottoNumber.length; i++) {
                check: for (;;) {
                    var num = Helper.randomRange(1, 4);

                    if (num < 1 || num > 45) {
                        continue;
                    }

                    for (int j : inputLottoNumber) {
                        if (j == num) {
                            continue check;
                        }
                    }

                    inputLottoNumber[i] = num;
                    break;
                }
            }

            for (int i = 0; i < lottoNumber.length; i++) {
                System.out.print("ë¡œë˜ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (1ë¶€í„° 45 ì‚¬ì´ì˜ ìˆ«ì, ì¤‘ë³µ ì—†ì´) : ");

                check: for (;;) {
                    var num = scanner.nextInt();

                    if (num < 1 || num > 45) {
                        System.out.println("ì…ë ¥ ìˆ«ìëŠ” ë°˜ë“œì‹œ 1~45 ì‚¬ì´ì–´ì•¼ í•©ë‹ˆë‹¤.");
                        continue;
                    }

                    for (int j : lottoNumber) {
                        if (j == num) {
                            System.out.println("ì…ë ¥ ìˆ«ìëŠ” ì¤‘ë³µë˜ë©´ ì•ˆë©ë‹ˆë‹¤.");
                            System.out.print("ë¡œë˜ ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (1ë¶€í„° 45 ì‚¬ì´ì˜ ìˆ«ì, ì¤‘ë³µ ì—†ì´) : ");

                            continue check;
                        }
                    }

                    lottoNumber[i] = num;
                    break;
                }
            }

            Arrays.sort(inputLottoNumber);
            Arrays.sort(lottoNumber);

            System.out.printf("ë‹¹ì²¨ ë²ˆí˜¸: %s\n", Arrays.toString(lottoNumber));
            System.out.printf("ì‚¬ìš©ì ë²ˆí˜¸: %s\n", Arrays.toString(inputLottoNumber));

            var correct = 0;

            for (int i = 0; i < inputLottoNumber.length; i++) {
                var num = inputLottoNumber[i];

                for (int j : lottoNumber) {
                    if (j == num) {
                        correct += 1;
                        break;
                    }
                }
            }

            switch (correct) {
                case 3:
                    System.out.println("4ë“±ì…ë‹ˆë‹¤.");
                    break;
                case 4:
                    System.out.println("3ë“±ì…ë‹ˆë‹¤!");
                    break;
                case 5:
                    System.out.println("2ë“±ì…ë‹ˆë‹¤!!");
                    break;
                case 6:
                    System.out.println("1ë“±ì…ë‹ˆë‹¤!!!");
                    break;
                default:
                    System.out.printf("ê½ì…ë‹ˆë‹¤. ì¼ì¹˜í•˜ëŠ” ë²ˆí˜¸ê°€ %dê°œì…ë‹ˆë‹¤.", correct);
                    break;
            }
        }
    }

    public static char intToChar(int toChar) {
        return (char) (toChar + 65);
    }

    public static void Challenge3() { // 4ì£¼ì°¨

        class SeatPosition implements Comparable<SeatPosition> {
            int row;
            int col;

            public SeatPosition(int row, int col) {
                this.row = row;
                this.col = col;
            }

            public SeatPosition(String string) throws RuntimeException {
                var tempRow = 0;
                var tempCol = 0;

                // Input [A-Z][0-9] * n

                tempCol = (int) string.charAt(0) - 65;

                tempRow = Integer.parseInt(string.substring(1)) - 1;

                this.row = tempRow;
                this.col = tempCol;
            }

            public boolean checkIsValid(int numRows, int numCols) {
                return !(row < 0 || row >= numRows || col < 0 || col >= numCols);
            }

            @Override
            public String toString() {
                if (col + 16 > (int) 'Z') {

                }

                return String.valueOf(intToChar(col)) + (row + 1);
            }

            @Override
            public int compareTo(SeatPosition o) {

                if (this.col > o.col) {
                    return 1;
                }

                if (this.col == o.col) {
                    if (this.row > o.row) {
                        return 1;
                    } else if (this.row == o.row) {
                        return 0;
                    } else {
                        return -1;
                    }
                }

                else {
                    return -1;
                }
            }
        }

        class Reservation {
            SeatPosition position;
            String name;
            String phoneNumber;
        }

        class MovieTheater {
            int numRows;
            int numCols;

            TreeMap<SeatPosition, Reservation> seat;

            public MovieTheater(int numRows, int numCols) {
                this.numRows = numRows;
                this.numCols = numCols;
                seat = new TreeMap<>();
            }

            public void displaySeats() {
                var keys = seat.keySet().iterator();

                var nextPosition = keys.hasNext() ? keys.next() : null;

                System.out.print("  ");

                for (var i = 0; i < numRows; i++) {
                    System.out.printf("%d ", i + 1);
                }

                System.out.println();

                for (var j = 0; j < numCols; j++) {
                    System.out.print(intToChar(j));
                    System.out.print(" ");

                    for (var i = 0; i < numRows; i++) {

                        if (nextPosition == null) {
                            System.out.print("â–¡ ");
                        } else {

                            var currentSeekPosition = new SeatPosition(i, j);

                            if (nextPosition.compareTo(currentSeekPosition) == 0) {
                                System.out.print("â–  ");
                                nextPosition = keys.hasNext() ? keys.next() : null;
                            } else {
                                System.out.print("â–¡ ");
                            }
                        }
                    }

                    System.out.println();
                }
            }

            public boolean reserveSeat(Reservation reservation) {

                if (seat.containsKey(reservation.position)) {
                    System.err.println("ë¹ˆ ê³³ì„ ì°¾ì•„ ì˜ˆì•½í•´ì£¼ì„¸ìš”");
                    return false;
                }

                if (!reservation.position.checkIsValid(numRows, numCols)) {
                    System.err.printf("ì˜ˆì•½í•  ì¢Œì„ ë²”ìœ„ëŠ” A1 ~ %s ì´ë‚´ì—¬ì•¼ í•©ë‹ˆë‹¤.\n",
                            new SeatPosition(numRows - 1, numCols - 1).toString());
                    return false;
                }

                seat.put(reservation.position, reservation);

                return true;
            }

            public boolean cancelReservation(SeatPosition position) {
                if (!position.checkIsValid(numRows, numCols)) {
                    System.err.printf("ì‚­ì œí•  ì¢Œì„ ë²”ìœ„ëŠ” A1 ~ %s ì´ë‚´ì—¬ì•¼ í•©ë‹ˆë‹¤.\n",
                            new SeatPosition(numRows - 1, numCols - 1).toString());
                    return false;
                }

                if (!seat.containsKey(position)) {
                    System.err.println("ì˜ˆì•½ë˜ì§€ ì•Šì€ ìë¦¬ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì„ íƒí•´ì£¼ì„¸ìš”.");
                    return false;
                }

                seat.remove(position);

                return true;
            }

            public void displayReservationInfo(String name) {
                for (var reservation : seat.values()) {
                    if (reservation.name.equals(name)) {
                        System.out.println("ì˜ˆì•½ ì •ë³´ >> ");
                        System.out.printf("ì¢Œì„ : %s\nì´ë¦„ : %s\nì „í™”ë²ˆí˜¸ : %s\n",
                                reservation.position.toString(),
                                reservation.name,
                                reservation.phoneNumber);
                        return;
                    }
                }

                System.err.printf("%s ì´ë¼ëŠ” ì´ë¦„ì€ ì—†ìŠµë‹ˆë‹¤.\n", name);
            }
        }

        Scanner scanner = new Scanner(System.in);

        MovieTheater movieTheater = new MovieTheater(10, 10);

        exit: for (;;) {

            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }

            System.out.printf("1. ì¢Œì„ ì¡°íšŒ\n2. ì¢Œì„ ì˜ˆì•½\n3. ì¢Œì„ ì˜ˆì•½ ì·¨ì†Œ\n4. ì˜ˆì•½ ì •ë³´ ì¡°íšŒ\n5. ì¢…ë£Œ\nì›í•˜ëŠ” ì‘ì—…ì„ ì„ íƒí•˜ì„¸ìš” (1/2/3/4/5): ");
            var selection = scanner.nextInt();

            switch (selection) {
                case 1:
                    movieTheater.displaySeats();
                    break;
                case 2:
                    System.out.print("ì˜ˆì•½ í™”ë©´ì…ë‹ˆë‹¤. ");

                    Reservation reservation = new Reservation();

                    System.out.print("ì˜ˆì•½í•˜ê³  ì‹¶ì€ ì¢Œì„ì˜ ë²ˆí˜¸/ì´ë¦„/ì „í™”ë²ˆí˜¸ ìˆœìœ¼ë¡œ ì…ë ¥í•˜ì£¼ì„¸ìš”. (ì˜ˆ: A2/í™ê¸¸ë™/123-4567)\n");

                    try {
                        var str = scanner.next();
                        var splitted = str.split("/");

                        reservation.position = new SeatPosition(splitted[0]);

                        reservation.name = splitted[1];
                        reservation.phoneNumber = splitted[2];

                        movieTheater.reserveSeat(reservation);
                    } catch (RuntimeException e) {
                        System.err.println(e.getMessage());
                    }
                    break;
                case 3:
                    System.out.print("ì˜ˆì•½ì„ ì·¨ì†Œí•  ì¢Œì„ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: A2): ");
                    try {
                        var parsedPos = new SeatPosition(scanner.next());

                        movieTheater.cancelReservation(parsedPos);
                    } catch (RuntimeException e) {
                        System.err.println(e.getMessage());
                    }

                    break;
                case 4:
                    System.out.print("ì¡°íšŒí•˜ê³  ì‹¶ì€ ì˜ˆì•½ì˜ ì˜ˆì•½ìëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”: ");

                    movieTheater.displayReservationInfo(scanner.next());

                    break;
                case 5:

                    break exit;
                default:
                    throw new AssertionError();
            }
        }

    }

    public static void Challenge4() { // 5ì£¼ì°¨
        enum TileType {
            Empty,
            Cookie,
            PacMan,
            Enemy;

            public String ToIcon(){
                return switch (this) {
                    case Empty -> "âŒ";
                    case Cookie -> "ğŸ‘»";
                    case PacMan -> "ğŸ…¿ï¸";
                    case Enemy -> "ğŸ’€";
                    default -> "e";
                };
            }
        }

        record Position(int x, int y) implements Comparable<Position> {
            @Override
            public int compareTo(Position other) {
                // x ì¢Œí‘œë¡œ ë¨¼ì € ë¹„êµí•˜ê³ , ê°™ìœ¼ë©´ y ì¢Œí‘œë¡œ ë¹„êµ
                int xCompare = Integer.compare(this.x, other.x);
                return xCompare != 0 ? xCompare : Integer.compare(this.y, other.y);
            }
        }

        abstract class GameObject {
            protected Position position;

            GameObject(Position position) {
                this.position = position;
            }

            abstract TileType getTileType();
        }

        interface IGame {
            int getWidth();
            int getHeight();

            GameObject getAt(Position pos);
            void removeAt(Position pos);
            void move(Position from, Position to);
        }

        abstract class TickAble extends GameObject {
            TickAble(Position position) {
                super(position);
            }

            void Tick(IGame game) {

            }
        }


        abstract class InputAble extends GameObject {
            InputAble(Position position) {
                super(position);
            }

            abstract public void Input(IGame game, int dx, int dy);
        }

        class PacMan extends InputAble {

            PacMan(Position position) {
                super(position);
            }

            @Override
            TileType getTileType() {
                return TileType.PacMan;
            }

            @Override
            public void Input(IGame game,int dx, int dy) {
                final var width = game.getWidth();
                final var height = game.getHeight();

                var movedX = dx + position.x;
                var movedY = dy + position.y;

                if (movedX < 0 || movedX >= width || movedY < 0 || movedY >= height) {
                    return;
                }

                var movePos =new Position(movedX, movedY);

                game.removeAt(movePos);

                game.move(this.position, movePos);
                
            }
        }

        class Cookie extends TickAble {
            int count = 0;

            Cookie(Position position) {
                super(position);
            }

            @Override
            TileType getTileType() {
                return TileType.Cookie;
            }

            @Override
            void Tick(IGame game) {

                count += 1;

                if (count == 3) {
                    final var width = game.getWidth();
                    final var height = game.getHeight();

                    var dx = Helper.randomRange(-2, 1);
                    var dy = Helper.randomRange(-2, 1);

                    var movedX = position.x + dx;
                    var movedY = position.y + dy;

                    if (movedX < 0 || movedX >= width || movedY < 0 || movedY >= height) {
                        count = 0;
                        return;
                    }



                    var target = new Position(movedX, movedY);
                    game.move(position, target);
                    count = 0;
                }
            }
        }

        class Enemy extends TickAble {
            int count = 0;

            Enemy(Position position) {
                super(position);
            }

            @Override
            TileType getTileType() {
                return TileType.Enemy;
            }

            @Override
            void Tick(IGame game) {

                count += 1;

                if (count == 2) {
                    final var width = game.getWidth();
                    final var height = game.getHeight();

                    var dx = Helper.randomRange(-2, 1);
                    var dy = Helper.randomRange(-2, 1);

                    var movedX = position.x + dx;
                    var movedY = position.y + dy;

                    if (movedX < 0 || movedX >= width || movedY < 0 || movedY >= height) {
                        count = 0;
                        return;
                    }

                    var target = new Position(movedX, movedY);
                    game.move(position, target);
                    count = 0;
                }
            }
        }

        class Game implements IGame {

            int Width;
            int Height;

            TreeMap<Position, GameObject> Objects;

            int cookieCount;
            int Hp = 3;

            @Override
            public int getWidth(){
                return Width;
            }

            @Override
            public int getHeight(){
                return Height;
            }

            @Override
            public GameObject getAt(Position pos) {
                return Objects.getOrDefault(pos, null);
            }

            @Override
            public void removeAt(Position pos){
                var removeTarget = getAt(pos);

                if (removeTarget != null) {
                    if (removeTarget.getTileType() == TileType.Cookie) {
                        cookieCount -= 1;
                    }

                    if (removeTarget.getTileType() == TileType.Enemy) {
                        Hp -= 1;
                    }
                }
                Objects.remove(pos);
            }

            @Override
            public void move(Position from, Position to) {
                var moveTarget = getAt(from);
                moveTarget.position = to;

                Objects.remove(from);
                Objects.put(to, moveTarget);
            }

            public Game(int Width, int Height) {
                this.Width = Width;
                this.Height = Height;

                Objects = new TreeMap<>();

                var pacManPosition = new Position(0, 0);
                var pacMan = new PacMan(pacManPosition);

                Objects.put(pacManPosition, pacMan);

                List<Position> positions = new ArrayList<>();

                this.cookieCount = Helper.randomRange(2, 5);

                for (int i = 0; i < this.cookieCount; i++) {
                    var pos = new Position(Helper.randomRange(0, Width-1),
                            Helper.randomRange(0, Height-1));

                    while (positions.contains(pos)) {
                        pos = new Position(Helper.randomRange(0, Width-1),
                                Helper.randomRange(0, Height-1));
                    }

                    System.out.println("debug pos " + pos);

                    positions.add(pos);

                    Objects.put(pos, new Cookie(pos));
                }

                var enemyCount = Helper.randomRange(2, 5);

                for (int i = 0; i < enemyCount; i++) {
                    var pos = new Position(Helper.randomRange(0, Width-1),
                            Helper.randomRange(0, Height-1));

                    while (positions.contains(pos)) {
                        pos = new Position(Helper.randomRange(0, Width-1),
                                Helper.randomRange(0, Height-1));
                    }

                    System.out.println("debug pos " + pos);

                    positions.add(pos);

                    Objects.put(pos, new Enemy(pos));
                }
            }

            public void input(int dx, int dy) {


                for (var object : Objects.values().toArray()) {

                    if (object instanceof InputAble) { //
                        ((InputAble) object).Input( this, dx, dy);
                    }

                    if (object instanceof TickAble) {
                        ((TickAble)object).Tick(this);
                    }
                }
            }

            public void print() {
                var height = Height;
                var width = Width;

                for (int y = 0; y < height; y++) {
                    for (int x = 0; x < width; x++) {
                        var find = this.getAt(new Position(x, y));

                        if (find != null){
                            System.out.printf("%s", find.getTileType().ToIcon());
                        } else {
                            System.out.printf("%s", TileType.Empty.ToIcon());
                        }
                        

                    }
                    System.out.println();
                }

                System.out.println(cookieCount);
            }

        }

        Scanner scanner = new Scanner(System.in);


        Game game = new Game(15, 15);

        game.print();

        while (true) {
            var in = scanner.next();

            int dx = 0;
            int dy = 0;

            switch (in) {
                case "w":
                    dx = 0;
                    dy = -1;
                    break;
                case "s":
                    dx = 0;
                    dy = 1;
                    break;
                case "a":
                    dx = -1;
                    dy = 0;
                    break;
                case "d":
                    dx = 1;
                    dy = 0;
                    break;
                default:
                    continue;
            }

            game.input(dx, dy);
            game.print();

            if (game.cookieCount == 0){
                System.out.println("game clear");
                break;
            }

            if (game.Hp == 0){
                System.out.println("you died");
                break;
            }

        }

    }

    public static void Challenge5() { // 7ì£¼ì°¨
        class SouthPanel extends JPanel {
            public SouthPanel() {
                add(new JLabel("ê³„ì‚° ê²°ê³¼")).setForeground(Color.WHITE);
                ;
                add(new JTextField());

                setBackground(Color.DARK_GRAY);
            }
        }

        class CenterPanel extends JPanel {
            public CenterPanel() {
                setLayout(new GridLayout(4, 3, 5, 5));

                for (int i = 0; i <= 9; i++) {
                    add(new JButton("" + i));
                }

                add(new JButton("CE"));
                add(new JButton("ê³„ì‚°"));

                add(new JButton("+")).setBackground(Color.YELLOW);
                
                add(new JButton("-")).setBackground(Color.YELLOW);
                
                add(new JButton("*")).setBackground(Color.YELLOW);
                
                add(new JButton("/")).setBackground(Color.YELLOW);
                

            }
        }

        class NorthPanel extends JPanel {
            public NorthPanel() {
                add(new JLabel("í˜„ì¬ ìˆ˜ì‹"));
                add(new TextField());
                setBackground(Color.GRAY);

            }
        }

        class MainFrame extends JFrame {
            public MainFrame() {
                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

                Container contentPane = getContentPane();

                contentPane.add(new SouthPanel(), BorderLayout.SOUTH);
                contentPane.add(new NorthPanel(), BorderLayout.NORTH);
                contentPane.add(new CenterPanel(), BorderLayout.CENTER);

                setSize(300, 300);

                setVisible(true);
            }
        }

        new MainFrame();
    }

    public static void Challenge6() {// 9ì£¼ì°¨
        class Calculator {
            int getOrder(char c) {
                switch (c) {
                    case '+':
                    case '-':
                        return 0;
                    case '*':
                    case '/':
                        return 1;
                    default:
                        return -1;
                }
            }

            boolean isDigit(char c) {
                return getOrder(c) == -1;
            }
            
            String Calculate(String text) {
                List<Character> postfixText = toPostFix(text);

                System.out.println(postfixText.toString());

                // ê³„ì‚° íŒŒíŠ¸
                Stack<Integer> istack = new Stack<>();

                try {

                    for (var c : postfixText) {
                        if (isDigit(c)) {

                            int i = Integer.parseInt(Character.toString(c));

                            istack.push(i);
                        } else {
                            int op2 = istack.pop();
                            int op1 = istack.pop();

                            switch (c) {
                                case '+':
                                    istack.push(op1 + op2);
                                    break;
                                case '-':
                                    istack.push(op1 - op2);
                                    break;
                                case '/':
                                    istack.push(op1 / op2);
                                    break;
                                case '*':
                                    istack.push(op1 * op2);
                                    break;
                            }
                        }
                    }

                    if (istack.size() != 1) {
                        System.out.println(istack.toString());
                        throw new Exception();
                    }

                    return istack.pop().toString();
                } catch (Exception error) {
                    return "ì—ëŸ¬: " + error.getMessage();

                }
            }

            private List<Character> toPostFix(String text) {
                var stack = new Stack<Character>();

                List<Character> postfixText = new ArrayList<Character>();

                for (var c : text.toCharArray()) {

                    if (!isDigit(c)) {
                        if (!stack.isEmpty()) {

                            var token = stack.peek();

                            if (getOrder(c) <= getOrder(token)) {
                                postfixText.add(stack.pop());
                                stack.add(c);
                                continue;
                            }
                        }

                        stack.add(c);
                    } else {
                        postfixText.add(c);
                    }
                }

                while (!stack.isEmpty()) {
                    postfixText.add(stack.pop());
                }
                return postfixText;
            }
        }
        
        
        
        
        class SouthPanel extends JPanel {
            final JTextField resultDocument;

            public SouthPanel() {

                add(new JLabel("ê³„ì‚° ê²°ê³¼")).setForeground(Color.WHITE);

                var c = new JTextField();
                c.setColumns(15);
                c.setFocusable(false);
                resultDocument = c;
                add(c);

                setBackground(Color.DARK_GRAY);
            }
        }

        class CenterPanel extends JPanel {
            JTextField resultField;
            JTextField inputField;

            public CenterPanel() {
                setLayout(new GridLayout(4, 3, 5, 5));

                for (int i = 0; i <= 9; i++) {
                    var btn = new JButton("" + i);

                    btn.addActionListener(
                            e -> {
                                JButton b = (JButton) e.getSource();

                                int i1 = Integer.parseInt(b.getText());
                                inputField.setText(inputField.getText() + i1);
                            });

                    add(btn);
                }

                var cebutton = new JButton("CE");

                cebutton.addActionListener(
                        e -> inputField.setText(""));

                add(cebutton);

                var calcbutton = new JButton("ê³„ì‚°");

                calcbutton.addActionListener(
                        e -> {

                            // í›„ìœ„ í‘œê¸°ë²• íŒŒíŠ¸

                            var text = inputField.getText();

                            resultField.setText(new Calculator().Calculate(text));

                        });

                add(calcbutton);

                String[] s = { "+", "-", "*", "/" };

                for (var token : s) {
                    var btn = new JButton(token);
                    btn.addActionListener(
                            new ActionListener() {
                                public void actionPerformed(ActionEvent e) {
                                    JButton b = (JButton) e.getSource();

                                    String i = b.getText();
                                    inputField.setText(inputField.getText() + i);
                                }
                            });
                    btn.setBackground(Color.YELLOW);

                    add(btn);
                }

            }
        }

        class NorthPanel extends JPanel {
            JTextField inputField;

            public NorthPanel() {
                add(new JLabel("í˜„ì¬ ìˆ˜ì‹"));

                var c = new JTextField();
                add(c);
                c.setColumns(15);
                inputField = c;
                setBackground(Color.GRAY);

            }
        }

        class MainFrame extends JFrame {
            public MainFrame() {
                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

                Container contentPane = getContentPane();

                var southPanel = new SouthPanel();

                var northPanel = new NorthPanel();

                contentPane.add(southPanel, BorderLayout.SOUTH);

                contentPane.add(northPanel, BorderLayout.NORTH);

                var centerPanel = new CenterPanel();
                centerPanel.resultField = southPanel.resultDocument;
                centerPanel.inputField = northPanel.inputField;
                contentPane.add(centerPanel, BorderLayout.CENTER);

                setSize(300, 300);

                setVisible(true);
            }
        }

        new MainFrame();
    }

    public static void Challenge7() { // 10ì£¼ì°¨

        class MainFrame extends JFrame {
            class TitlePanel extends JPanel {
                public TitlePanel() {
                    var label = new JLabel("Lorem Picsum");
                    label.setForeground(Color.MAGENTA);
                    add(label);
                }
            }

            class MainPanel extends JPanel {
                public Image image;
                int imageHeight = 200;
                int imageWidth = 200;

                public void paintComponent(Graphics g) {
                    for (int i = 0; i < 4; i++) {
                        for (int j = 0; j < 4; j++) {

                            int resultImageWidth = 50;
                            int resultImageHeight = 50;

                            int dx1 = i * (resultImageWidth + 10);
                            int dy1 = j * (resultImageHeight + 10);

                            int dx2 = dx1 + resultImageWidth;
                            int dy2 = dy1 + resultImageHeight;

                            int sx1 = imageWidth / 4 * i;
                            int sy1 = imageHeight / 4 * j;

                            int sx2 = sx1 + imageWidth / 4;
                            int sy2 = sy1 + imageHeight / 4;

                            g.drawImage(image, dx1, dy1, dx2, dy2, sx1, sy1, sx2, sy2, this);
                        }
                    }

                    var c = g.getClipBounds();

                    g.drawString("20231975 ë°•ì„±ì¤€", c.width / 2, c.height / 2);

                }
            }

            public MainFrame() {
                var mainPanel = new MainPanel();

                try {
                    URL url = new URL("https://picsum.photos/200");

                    Image image = ImageIO.read(url);

                    System.out.print(image.toString());

                    mainPanel.image = image;
                } catch (Exception e) {
                    System.out.println(e.getMessage());

                }

                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

                Container contentPane = getContentPane();

                var titlePanel = new TitlePanel();

                contentPane.add(mainPanel, BorderLayout.CENTER);

                contentPane.add(titlePanel, BorderLayout.SOUTH);

                setSize(200 + 10 * 4 + 5, 300);
                setResizable(false);

                setVisible(true);
            }

        }

        new MainFrame();
    }

    public static void Challenge8() { // 11ì£¼ì°¨
        class MainFrame extends JFrame {
            private JLabel resultLabel = new JLabel("ê³„ì‚° ê²°ê³¼ ì¶œë ¥");

            public MainFrame() {
                super("ë‹¤ì´ì–¼ë¡œê·¸ ë§Œë“¤ê¸°");
                setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
                Container c = getContentPane();

                c.setLayout(new FlowLayout());
                JButton btn = new JButton("calculate");
                btn.addActionListener(new MyActionListener());
                c.add(btn);

                resultLabel.setOpaque(true);
                resultLabel.setBackground(Color.WHITE);
                c.add(resultLabel);

                setSize(250, 200);
                setVisible(true);
            }

            public void SetResultLabel(String string) {
                resultLabel.setText(string);
            }

            class MyActionListener implements ActionListener {
                private CalcDialog dialog;

                public MyActionListener() {
                    dialog = new CalcDialog(MainFrame.this);
                    dialog.addWindowListener(new WindowAdapter() {
                        @Override
                        public void windowDeactivated(WindowEvent e) {
                            int number = ((CalcDialog) e.getSource()).getResult();
                            MainFrame.this.resultLabel.setText(Integer.toString(number));
                        }

                    });
                }

                public void actionPerformed(ActionEvent e) {
                    dialog.setVisible(true);
                }
            }

            class CalcDialog extends JDialog {
                private int sum = 0;
                private JTextField a = new JTextField(10);
                private JTextField b = new JTextField(10);
                private JButton mulBtn = new JButton("   Multiply   ");

                public CalcDialog(JFrame owner) {
                    super(owner, "Calculation Dialog", true);
                    setLayout(new FlowLayout());

                    add(new JLabel("ë‘ ìˆ˜ë¥¼ ê³±í•©ë‹ˆë‹¤."));
                    add(a);
                    add(b);

                    mulBtn.addActionListener(new ActionListener() {

                        @Override
                        public void actionPerformed(ActionEvent e) {
                            try {
                                sum = Integer.parseInt(a.getText()) * Integer.parseInt(b.getText());
                                setVisible(false);
                            } catch (NumberFormatException ee) {
                                sum = 0;
                                System.err.println("please Enter number");
                            }
                        }

                    });

                    add(mulBtn);
                    setSize(350, 400);
                }

                public int getResult() {
                    return sum;
                }
            }
        }

        new MainFrame();
    }

    public static void Challenge9() { // 12ì£¼ì°¨
        interface Shape {
            final double PI = 3.14;

            void draw();

            double getArea();

            default public void redraw() {
                System.out.print("--- ë‹¤ì‹œ ê·¸ë¦½ë‹ˆë‹¤. ");
                draw();
            }
        }

        class Circle implements Shape {
            private int radius;

            public Circle(int radius) {
                this.radius = radius;
            }

            @Override
            public void draw() {
                System.out.println("ë°˜ì§€ë¦„ì´ " + radius + "ì¸ ì›ì…ë‹ˆë‹¤.");
            }

            @Override
            public double getArea() {
                return PI * radius * radius;
            }
        }

        class Oval implements Shape {
            private int x;
            private int y;

            public Oval(int x, int y) {
                this.x = x;
                this.y = y;
            }

            @Override
            public void draw() {
                System.out.println("x, yì¶•ì´ " + x + "," + y + "ì¸ íƒ€ì›ì…ë‹ˆë‹¤.");
            }

            @Override
            public double getArea() {
                return PI * x * y;
            }
        }

        class Rect implements Shape {
            private int x;
            private int y;

            public Rect(int x, int y) {
                this.x = x;
                this.y = y;
            }

            @Override
            public void draw() {
                System.out.println("x, yì¶•ì´ " + x + "," + y + "ì¸ ì§ì‚¬ê°í˜• ì…ë‹ˆë‹¤.");
            }

            @Override
            public double getArea() {
                return x * y;
            }
        }

        Shape[] list = new Shape[3];
        list[0] = new Circle(5);
        list[1] = new Oval(30, 50);
        list[2] = new Rect(20, 40);

        for (int i = 0; i < list.length; i++) {
            list[i].redraw();
        }

        for (int i = 0; i < list.length; i++) {
            System.out.println("ë©´ì ì€ " + list[i].getArea());
        }
    }

    public static void Challenge10 () { //13ì£¼ì°¨
        class Challenge{

            String fileName = "app/src/main/resources/phone.txt";
            HashMap<String,String> phoneMap = new HashMap<String,String>();
            
            public Challenge(){

            }

            private void readPhoneFile(){
                try {
                    Scanner fScanner = new Scanner(new FileReader(new File(fileName)));

                    while (fScanner.hasNextLine()){
                        String line = fScanner.nextLine();
                        String[] split = line.split(" ");
                        phoneMap.put(split[0], split[1]);
                    }
                }catch (IOException e){
                    System.out.println("íŒŒì¼ì„ ì½ëŠ” ë„ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
                }

                System.out.println("ì´ "+ phoneMap.size() + "ê°œì˜ ì „í™”ë²ˆí˜¸ë¥¼ ì½ì—ˆìŠµë‹ˆë‹¤.");
            }

            private void processQuery() {
                Scanner scanner = new Scanner(System.in);

                while (true) {
                    System.out.print("ì´ë¦„ >> ");
                    String name = scanner.nextLine();
                    if (name.equals("ê·¸ë§Œ")) {
                        break;
                    }

                    var splitted = name.split(" ");


                    switch (splitted[0]){
                        case "ìƒì„±":
                            if (phoneMap.containsKey(splitted[1])) {
                                System.out.println("ì´ë¯¸ ìƒì„±í•˜ê³ ì í•˜ëŠ” ëŒ€ìƒì´ ë°ì´í„°ìƒì— ìˆìŠµë‹ˆë‹¤.");
                            } else {
                                phoneMap.put(splitted[1], splitted[2]);
                            }
                            break;
                        case "ì¡°íšŒ":
                            if (phoneMap.containsKey(splitted[1])) {
                                System.out.println(phoneMap.get(splitted[1]));
                            } else {
                                System.out.println(splitted[1]+" ì´ë¼ëŠ” ì´ë¦„ì´ ì—†ìŠµë‹ˆë‹¤");
                            }
                            break;
                        case "ì‚­ì œ":
                            if (!phoneMap.containsKey(splitted[1])) {
                                System.out.println("ì‚­ì œí•˜ê³ ì í•˜ëŠ” ëŒ€ìƒì´ ë°ì´í„°ìƒì— ì—†ìŠµë‹ˆë‹¤.");
                            } else {
                                phoneMap.remove(splitted[1]);
                            }
                            break;
                        default:
                            System.out.println(splitted[0] + " ì´ë¼ëŠ” ëª…ë ¹ì–´ëŠ” ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
                    }

                }

                scanner.close();
            }

            public void run() {
                readPhoneFile();
                processQuery();
            }

        
        }
        

        Challenge phoneExplorer = new Challenge();
        phoneExplorer.run();
    }

    public static void printTable(Statement stmt){
        ResultSet srs;
        System.out.printf("%4s|%-30s|%-30s|%-10s\n", "id", "title", "publisher", "author");
        
        try{
            srs = stmt.executeQuery("select * from book");

            while (srs.next()){
                System.out.printf("%4s|%-30s|%-30s|%-10s\n", srs.getString("id"), srs.getString("title"), srs.getString("publisher"), srs.getString("author"));            
            }
        } catch (SQLException e) {
            System.out.println("SQL ì‹¤í–‰ ì—ëŸ¬");
        }
    }

    public static void Challenge11(){ // 14ì£¼ì°¨
        
        
        Connection conn;
        Statement stmt = null;

        final String SQLITE = "org.sqlite.JDBC";
        final String DB = "jdbc:sqlite:book.db";

        try {
            Class.forName(SQLITE);
            conn = DriverManager.getConnection(DB, "root", "1234");

            System.out.println("DB ì—°ê²° ì™„ë£Œ");
            stmt = conn.createStatement();

            printTable(stmt);

            System.out.println("ìˆ˜ì • ì™„ë£Œ ----");
            stmt.execute("UPDATE book SET author='ì œì¸ ì˜¤ìŠ¤í‹´' WHERE id=3");
            
            printTable(stmt);
        } catch (SQLException e){
            System.out.println(e.getMessage());
        } 
        catch (ClassNotFoundException e){
            System.out.println("classnotfound");
        }
    }
}
